import{f as F,r,d as b,j as e,i as L,H as E,l as M,I,h as _,m as j,b as A}from"./index-BnbwrKyu.js";import{G,u as H,P as T,M as U,F as V}from"./useFollow-CFd--JB9.js";/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $=F("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);function z(t){const[s,i]=r.useState([]);r.useEffect(()=>{t.posts&&Array.isArray(t.posts[0])?i(t.posts[0]):i(t.posts)},[t.posts]);const c=b();return e.jsxs("div",{className:"max-w-6xl mx-auto px-4 py-8",children:[e.jsx("div",{className:"flex justify-center border-t dark:border-gray-700",children:e.jsxs("div",{className:"flex space-x-12",children:[e.jsxs("button",{className:"flex items-center space-x-2 px-4 py-4 border-t-2 border-black dark:border-white -mt-px",children:[e.jsx(G,{className:"w-4 h-4"}),e.jsx("span",{className:"text-sm font-medium",children:"POSTS"})]}),e.jsxs("button",{className:"flex items-center space-x-2 px-4 py-4 text-gray-500 hover:text-gray-900",children:[e.jsx(L,{className:"w-4 h-4"}),e.jsx("span",{className:"text-sm font-medium",children:"SAVED"})]})]})}),e.jsx("div",{className:"grid grid-cols-3 gap-1 md:gap-8 mt-4",children:s.map(a=>{var n,m,x,d;return e.jsxs("div",{onClick:()=>c(`/reels/${a._id}`),className:"relative aspect-square group cursor-pointer",children:[["mp4","webm","mov"].includes((m=(n=a==null?void 0:a.file)==null?void 0:n.fileType)==null?void 0:m.toLowerCase())?e.jsx("video",{src:a.file.url,className:"w-full h-full object-cover",muted:!0}):["jpg","jpeg","png","gif","webp"].includes((d=(x=a==null?void 0:a.file)==null?void 0:x.fileType)==null?void 0:d.toLowerCase())?e.jsx("img",{src:a==null?void 0:a.file.url,alt:(a==null?void 0:a.caption)||"Post Image",className:"w-full h-full object-cover"}):e.jsx("div",{className:"w-full h-full flex items-center justify-center bg-gray-200 text-gray-500",children:"Unsupported Format"}),e.jsx("div",{className:"absolute inset-0 bg-black bg-opacity-0 group-hover:bg-opacity-50 transition-all duration-200 flex items-center justify-center opacity-0 group-hover:opacity-100",children:e.jsxs("div",{className:"flex gap-3 sm:gap-6 md:gap-9 text-white",children:[e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(E,{className:"w-4 h-4 sm:w-6 sm:h-6 fill-current"}),e.jsx("span",{className:"font-semibold",children:a==null?void 0:a.likes})]}),e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx("svg",{className:"w-4 h-4 sm:w-6 sm:h-6",fill:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{d:"M20.656 17.008a9.993 9.993 0 10-3.59 3.615L22 22z"})}),e.jsx("span",{className:"font-semibold",children:(a==null?void 0:a.comments)||0})]})]})})]},a._id)})})]})}function B(){const{id:t}=M(),[s,i]=r.useState(!0),[c,a]=r.useState(!1),[n,m]=r.useState(!0),x=b(),[d,o]=r.useState(!1),[y,N]=r.useState(!0),[u,f]=r.useState(null),{following:g,createFollower:v,removeFollower:w}=H(),h=async()=>{const l=await A.post(`/post/getprofile/${t}`);i(l.data.profile),a(l.data.sellerposts),console.log(l)},p=()=>{const l=g.find(C=>C.followedId._id===t);l&&f(l),N(!1)},k=async()=>{await h()};r.useEffect(()=>{k()},[t]),r.useEffect(()=>{g&&p()},[g]);const P=async()=>{o(!0),await v(t),await h(),o(!1)},S=async()=>{o(!0),await w(t),await h(),f(null),o(!1)};return y?e.jsx(T,{}):e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"max-w-4xl mx-auto px-4 py-8",children:[e.jsx("div",{className:"max-w-screen-lg mx-auto mt-2 sm:mt-5 md:mt-10 px-4",children:e.jsxs("div",{className:"flex flex-row items-center md:items-start gap-6",children:[e.jsxs("div",{className:"flex-shrink-0",children:[e.jsx("div",{className:"w-24 h-24 sm:w-32 sm:h-32 md:w-40 md:h-40 bg-blue-500 rounded-[25%] overflow-hidden",children:e.jsx("img",{src:s==null?void 0:s.profilePicture,alt:"Profile",className:"w-full h-full object-cover"})}),e.jsx("div",{className:"sm:hidden flex items-center justify-start gap-4 ",children:e.jsx("h1",{className:"text font-semibold text-gray-800 dark:text-gray-200",children:s==null?void 0:s.fullName})})]}),e.jsxs("div",{className:"flex-grow",children:[e.jsxs("div",{className:"sm:flex hidden items-center justify-start gap-4 ",children:[e.jsx("h1",{className:"text-xl md:text-2xl font-semibold text-gray-800 dark:text-gray-200",children:s==null?void 0:s.fullName}),e.jsxs("div",{className:"flex gap-4",children:[e.jsx(I,{onClick:()=>x("/messages/"+s._id),className:"w-6 h-6 text-gray-500 cursor-pointer"}),e.jsx(_,{className:"w-6 h-6 text-green-500 cursor-pointer"}),e.jsx(U,{className:"w-6 h-6 text-blue-500 cursor-pointer"})]})]}),e.jsx("div",{className:"flex gap-2",children:e.jsxs("div",{className:"flex space-x-2 sm:space-x-4 md:space-x-8 mt-4",children:[e.jsxs("div",{children:[e.jsx("span",{className:"block font-semibold text-gray-800 dark:text-gray-200 text-center",children:c.length}),e.jsx("span",{className:"text-xs sm:text-sm text-gray-500 font-medium",children:"posts"})]}),e.jsxs("div",{children:[e.jsx("span",{className:"block font-semibold text-gray-800 dark:text-gray-200 text-center",children:s==null?void 0:s.followers}),e.jsx("span",{className:"text-xs sm:text-sm text-gray-500 font-medium",children:"followers"})]}),e.jsxs("div",{children:[e.jsx("span",{className:"block font-semibold text-gray-800 dark:text-gray-200 text-center",children:s==null?void 0:s.following}),e.jsx("span",{className:"text-xs sm:text-sm text-gray-500 font-medium",children:"following"})]})]})}),e.jsxs("div",{className:"sm:mt-4 mt-1 bg-gray-300 p-2 rounded-md",children:[e.jsx("h2",{className:"sm:text-lg text-xs capitalize font-semibold text-gray-800 dark:text-gray-200",children:s==null?void 0:s.occupation}),e.jsxs("p",{className:"text-gray-600 dark:text-gray-400 sm:text-base text-xs",children:[e.jsx("span",{children:"Website @ "}),e.jsx("a",{href:`https://${s==null?void 0:s.website}`,className:"text-blue-500 hover:underline",children:s==null?void 0:s.website}),"| ",s==null?void 0:s.address]})]})]})]})}),e.jsxs("div",{className:"sm:mt-4 mt-2 flex gap-4 flex-grow",children:[u?e.jsxs("span",{className:"flex-1 flex items-center justify-center gap-2 px-4 py-1 border border-green-500 rounded-md text-base sm:text-lg font-semibold bg-green-100 text-green-700 dark:bg-green-800 dark:text-green-300",children:[e.jsx($,{className:"w-5 h-5"}),"Following"]}):e.jsx("button",{onClick:P,className:" flex-1 flex justify-center items-center px-4 py-1 border rounded-md text-base sm:text-lg font-semibold bg-gray-100 hover:bg-gray-300 dark:bg-gray-800 active:scale-95",children:d?e.jsx(j,{className:"animate-spin"}):"Follow"}),u?e.jsx("button",{onClick:S,className:"flex-1 flex items-center justify-center gap-2 px-4 py-1 border border-red-500 rounded-md text-base sm:text-lg font-semibold bg-red-100 text-red-700 dark:bg-red-800 dark:text-red-300 hover:bg-red-200 hover:border-red-600 dark:hover:bg-red-700 active:scale-95",children:d?e.jsx(j,{className:"animate-spin"}):"Unfollow"}):e.jsx("button",{onClick:()=>console.log("world"),className:"flex-1 px-4 py-1 border rounded-md text-base sm:text-lg font-semibold bg-gray-100 hover:bg-gray-300 dark:bg-gray-800 active:scale-95",children:"Message"})]}),e.jsx("div",{className:"mt-8",children:e.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-lg border border-gray-200 dark:border-gray-700 p-4",children:e.jsx("div",{className:"relative w-full h-[9.5rem] sm:h-60 md:h-72 lg:h-80 overflow-hidden rounded-lg",children:n?e.jsx("video",{src:"https://cdn.pixabay.com/video/2023/12/03/191860-891640938_large.mp4",autoPlay:!0,loop:!0,muted:!0,className:"absolute inset-0 w-full h-full object-cover"}):e.jsx("div",{className:"absolute inset-0 flex flex-col items-center justify-center bg-gray-100 dark:bg-gray-800 border-2 border-dashed border-gray-300 dark:border-gray-600 rounded-lg cursor-pointer hover:bg-gray-200 dark:hover:bg-gray-700 transition-all",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"flex items-center justify-center text-gray-500 dark:text-gray-400 mb-2",children:e.jsx(V,{className:"h-12 w-12"})}),e.jsx("p",{className:"text-gray-600 dark:text-gray-300 text-lg font-medium",children:"Add Video"})]})})})})})]}),c?e.jsx(z,{posts:c}):null]})}function D(){return e.jsx("div",{className:"min-h-screen bg-white dark:bg-gray-900",children:e.jsx(B,{})})}export{D as default};
