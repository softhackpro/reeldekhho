import{c as p,r as l,b as i,j as r,S as h}from"./index-4-6_qnaC.js";import{G as u}from"./iconBase-CinpP4O6.js";/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const b=p("Heart",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const f=p("MessageCircle",[["path",{d:"M7.9 20A9 9 0 1 0 4 16.1L2 22Z",key:"vv11sd"}]]),y=o=>{const[a,s]=l.useState([]),c=async()=>{try{const t=await i.get(`/post/getcomment?postId=${o}`);s(t.data.comments)}catch(t){console.error("Error fetching comments:",t)}},n=async t=>{try{const e=await i.post("/post/addcomment",{text:t,postId:o});console.log(e.data.comment),s([e.data.comment,...a])}catch(e){console.error("Error creating comment:",e)}},d=async t=>{try{await i.delete(`/post/deletecomment?commentId=${t}`),s(a.filter(e=>e._id!==t))}catch(e){console.error("Error deleting comment:",e)}};return l.useEffect(()=>{a!=null&&a.length||c()},[o]),{getComment:c,createComment:n,deleteComment:d,comments:a}};function v(o){return u({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M10 10h4v4h-4zm0-6h4v4h-4zm0 12h4v4h-4z"},child:[]}]})(o)}function C({postId:o,createComment:a,loader:s,setLoader:c}){const[n,d]=l.useState(""),t=async e=>{e.preventDefault(),console.log(n),c(m=>({...m,addLoader:!0})),await a(n),d(""),c(m=>({...m,addLoader:!1}))};return r.jsx("div",{className:"mt-4 border-t dark:border-gray-700 pt-4",children:r.jsxs("form",{onSubmit:t,className:"flex items-center space-x-2",children:[r.jsx("input",{type:"text",placeholder:"Add a comment...",value:n,onChange:e=>d(e.target.value),className:"flex-1 bg-transparent border-none focus:ring-0 dark:text-white placeholder-gray-500"}),r.jsx("button",{disable:s.addLoader,type:"submit",disabled:!n.trim(),className:"text-blue-500 font-semibold disabled:opacity-50",children:s.addLoader?r.jsx("div",{className:" relative bg-red-500 ",children:r.jsx("div",{className:"h-6 w-6 absolute right-[-10px] top-[-11px] rounded-full border-4 border-white border-t-transparent animate-spin"})}):r.jsx(h,{className:"w-5 h-5"})})]})})}export{v as B,C,b as H,f as M,y as u};
